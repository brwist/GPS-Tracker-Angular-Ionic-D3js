<ion-header>
  <ion-navbar>
    <ion-title>Charts</ion-title>
  </ion-navbar>
  <ion-toolbar>
    <ion-segment [(ngModel)]="chartType">
      <ion-segment-button value="batteryOrVolts">
        <ng-container *ngIf="isCableKitConnected">Volts</ng-container>
        <ng-container *ngIf="!isCableKitConnected">Battery</ng-container>
      </ion-segment-button>
      <ion-segment-button value="temperature">
        Temperature
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div *ngIf="!chartData.batteryOrVolts" class="loading">
    <ion-spinner></ion-spinner>
  </div>
  <div class="tabs-container">
    <div
      class="tabs-container_name"
      [ngClass]="{'active-tab': activeTab === 1 }"
      (click)="selectTimeDurationHour(1)"
    >
      <span>Hour</span>
    </div>
    <div
      class="tabs-container_name"
      [ngClass]="{'active-tab': activeTab === 2 }"
      (click)="selectTimeDurationDay(2)"
    >
      <span>Day</span>
    </div>
    <div
      class="tabs-container_name"
      [ngClass]="{'active-tab': activeTab === 3 }"
      (click)="selectTimeDurationWeek(3)"
    >
      <span>Week</span>
    </div>
    <div
      class="tabs-container_name"
      [ngClass]="{'active-tab': activeTab === 4 }"
      (click)="selectTimeDurationMonth(4)"
    >
      <span>Month</span>
    </div>
    <div
      class="tabs-container_name"
      [ngClass]="{'active-tab': activeTab === 5 }"
      (click)="selectTimeDurationYear(5)"
    >
      <span>Year</span>
    </div>
  </div>
  <div *ngIf="chartType === 'batteryOrVolts'">
    <page-volt-chart [data]="chartData?.batteryOrVolts" *ngIf="chartData.batteryOrVolts"></page-volt-chart>
  </div>

  <div *ngIf="chartType === 'temperature'">
    <page-temperature-chart [data]="chartData?.temperature" *ngIf="chartData.temperature"></page-temperature-chart>
  </div>

  <ion-list>
    <ion-item class="current-range">
      <ion-label item-left>{{rangeDateStart |  date:'MMM d h:mm a'}}</ion-label>
      <ion-label item-right text-right>{{rangeDateEnd |  date:'MMM d h:mm a'}}</ion-label>
    </ion-item>
  </ion-list>

</ion-content>
